{% extends "template.njk" %}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% block content %}
  <div class="govuk-width-container ">
    <main class="govuk-main-wrapper">

      <h1 class="govuk-heading-l">Access Token</h1>
      <pre>{{accessToken}}</pre>

      <h1 class="govuk-heading-l">ID Token</h1>
      <pre>{{idTokenDecoded}}</pre>
      <form method="post" action="/oauth/logout">
        <input type="hidden" name="token" value="{{idToken}}"/>
        {{ govukButton({
          text: "Logout"
        }) }}
      </form>

      {% if refreshToken %}
      <h1 class="govuk-heading-l">Refresh Token</h1>
      <pre>{{refreshToken}}</pre>
      <form method="post" action="/oauth/refresh">
        <input type="hidden" name="token" value="{{refreshToken}}"/>
        {{ govukButton({
          text: "Refresh"
        }) }}
      </form>
      {% else %}
      <p>None</p>
      {% endif %}

      <h1 class="govuk-heading-l">User Info</h1>
      <pre><code>{{userinfo}}</code></pre>

      <h1 class="govuk-heading-l">Core Identity Claim</h1>
      {% if coreIdentity %}
      <pre>{{coreIdentity}}</pre>
      {% else %}
      <p>None</p>
      {% endif %}

      {{ govukButton({
        text: "Continue",
        href: "/"
      }) }}

    </div>
  </main>
</div>
{% endblock %}